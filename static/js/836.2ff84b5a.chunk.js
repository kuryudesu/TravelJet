"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[836],{836:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var t=a(555),r=a(43),n=a(576),i=a(305),l=a(825),o=(a(152),a(579));const d=()=>{const[e,s]=(0,r.useState)({email:"",password:"",avatar_url:""}),[a,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),p=(0,n.Zp)(),g=a=>{s((0,t.A)((0,t.A)({},e),{},{[a.target.name]:a.target.value}))};return(0,o.jsx)("div",{className:"form-page-container",children:(0,o.jsxs)("div",{className:"form-container",children:[(0,o.jsx)("h1",{children:"Login"}),a&&(0,o.jsx)("div",{className:"error-message",children:a}),(0,o.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),u(!0),d("");try{const{data:s}=await(0,i.iD)(e);localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),p("/"),window.location.reload()}catch(r){var a,t;d((null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Login failed. Please check your credentials.")}finally{u(!1)}},children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"email",children:"Email"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:g,required:!0})]}),(0,o.jsxs)("div",{className:"form-group password-input-container",children:[(0,o.jsx)("label",{htmlFor:"password",children:"Password"}),(0,o.jsx)("input",{type:m?"text":"password",id:"password",name:"password",value:e.password,onChange:g,required:!0}),e.password.length>0&&(0,o.jsx)("button",{type:"button",className:"password-toggle-icon",onClick:()=>{h(!m)},children:m?(0,o.jsx)(l.cqH,{}):(0,o.jsx)(l.zgv,{})})]}),(0,o.jsx)("button",{type:"submit",className:"submit-button",disabled:c,children:c?"Logging in...":"Login"})]}),(0,o.jsx)("div",{className:"switch-form-link",children:(0,o.jsxs)("p",{children:["Don't have an account? ",(0,o.jsx)(n.N_,{to:"/register",children:"Register here"})]})})]})})}}}]);
//# sourceMappingURL=836.2ff84b5a.chunk.js.map